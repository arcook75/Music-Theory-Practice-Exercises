<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Treble Clef Note Reading – Formative Practice</title>

<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    background-color: #ffffff;
    color: #111111;
    margin: 0;
    padding: 20px;
    line-height: 1.6;
  }

  h1 {
    font-size: 1.8rem;
    margin-bottom: 10px;
  }

  .quiz-container {
    max-width: 800px;
    margin: auto;
  }

  .question {
    border: 2px solid #000;
    padding: 15px;
    margin-bottom: 25px;
  }

  .staff {
    margin: 15px 0;
  }

  svg {
    width: 100%;
    max-width: 600px;
    height: 140px;
  }

  .options button {
    margin: 5px 5px 5px 0;
    padding: 8px 12px;
    font-size: 1rem;
    border: 2px solid #000;
    background-color: #f5f5f5;
    cursor: pointer;
  }

  .options button:focus {
    outline: 3px solid #000;
  }

  .feedback {
    margin-top: 10px;
    font-weight: bold;
  }

  .correct {
    color: #0b5e0b;
  }

  .incorrect {
    color: #8b0000;
  }

  .hint {
    margin-top: 8px;
    font-size: 0.95rem;
  }

  .answer-key {
    margin-top: 40px;
    border-top: 3px solid #000;
    padding-top: 20px;
  }
</style>
</head>

<body>
<div class="quiz-container">

<h1>Treble Clef Note Reading – Formative Practice</h1>
<p><strong>Instructions:</strong> Identify the pitch name of each note. Immediate feedback will appear after each response.</p>

<div id="quiz"></div>

<div class="answer-key">
<h2>Answer Key & Explanations</h2>
<ol>
<li>E – Bottom line of treble clef.</li>
<li>G – Second line.</li>
<li>B – Middle line.</li>
<li>D – Fourth line.</li>
<li>F – Top line.</li>
<li>F – First space.</li>
<li>A – Second space.</li>
<li>C – Third space.</li>
<li>E – Fourth space.</li>
<li>G – Space above top line.</li>
</ol>
</div>

</div>

<script>
const notes = [
  {position: 4, answer: "E", hint: "Bottom line of the staff."},
  {position: 3, answer: "G", hint: "Second line of the staff."},
  {position: 2, answer: "B", hint: "Middle line."},
  {position: 1, answer: "D", hint: "Fourth line."},
  {position: 0, answer: "F", hint: "Top line."},
  {position: 3.5, answer: "F", hint: "First space."},
  {position: 2.5, answer: "A", hint: "Second space."},
  {position: 1.5, answer: "C", hint: "Third space."},
  {position: 0.5, answer: "E", hint: "Fourth space."},
  {position: -0.5, answer: "G", hint: "Space just above the top line."}
];

const quizDiv = document.getElementById("quiz");

notes.forEach((note, index) => {
  const questionDiv = document.createElement("div");
  questionDiv.className = "question";

  const questionTitle = document.createElement("h3");
  questionTitle.textContent = `Question ${index + 1}`;
  questionDiv.appendChild(questionTitle);

  const staffDiv = document.createElement("div");
  staffDiv.className = "staff";

  const svg = `
    <svg viewBox="0 0 600 140" aria-label="Treble clef staff with note">
      ${[0,1,2,3,4].map(i => 
        `<line x1="50" y1="${40 + i*15}" x2="550" y2="${40 + i*15}" stroke="#000" stroke-width="2"/>`
      ).join("")}
      <ellipse cx="300" cy="${40 + note.position*15}" rx="10" ry="7" fill="#000"/>
    </svg>
  `;
  staffDiv.innerHTML = svg;
  questionDiv.appendChild(staffDiv);

  const optionsDiv = document.createElement("div");
  optionsDiv.className = "options";

  ["A","B","C","D","E","F","G"].forEach(letter => {
    const button = document.createElement("button");
    button.textContent = letter;
    button.onclick = () => checkAnswer(button, note.answer, feedbackDiv);
    optionsDiv.appendChild(button);
  });

  questionDiv.appendChild(optionsDiv);

  const feedbackDiv = document.createElement("div");
  feedbackDiv.className = "feedback";
  questionDiv.appendChild(feedbackDiv);

  const hintDiv = document.createElement("div");
  hintDiv.className = "hint";
  hintDiv.textContent = "Hint: " + note.hint;
  questionDiv.appendChild(hintDiv);

  quizDiv.appendChild(questionDiv);
});

function checkAnswer(button, correctAnswer, feedbackDiv) {
  if (button.textContent === correctAnswer) {
    feedbackDiv.textContent = "Correct! Well done.";
    feedbackDiv.className = "feedback correct";
  } else {
    feedbackDiv.textContent = "Not quite. Review the staff position and try again.";
    feedbackDiv.className = "feedback incorrect";
  }
}
</script>

</body>
</html>